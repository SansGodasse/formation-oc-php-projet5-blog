{% extends "member/memberLayout.twig" %}

{% import 'macros.twig' as macros %}

{# head #}

{% block title %}
    Profil de {{ member.getName }}
{% endblock %}

{# body #}

{% block headerTitle %}
    <div class="site-heading">
        <h1>Profil de {{ member.getName }}</h1>
    </div>
{% endblock %}

{% block content %}
    <section id="profile">

        {# Edit button #}
        {% if connectedMember and connectedMember.getEmail is same as(member.getEmail) %}
            <div>
                <a class="btn btn-primary" href="/profile-editor">Modifier mon profil</a>
            </div>
        {% elseif connectedMember and 'admin' in connectedMember.getRoles %}
            <div>
                <a href="/profile-editor?id={{ member.getId }}">Modifier le profil</a>
            </div>
        {% endif %}

        {# Roles #}
        <div>
            <p>
                {% if member.getRoles %}
                    {% for role in member.getRoles %}
                        {{ macros.translateRole(role) }}
                    {% endfor %}
                {% else %}
                    {{ "Vos rôles ont été suspendus." }}
                {% endif %}
            </p>
        </div>

        {# Informations #}
        <div>
            <p>
                {{ member.getName }} <a href="mailto:{{ member.getEmail }}">{{ member.getEmail }}</a>
            </p>
            <p>
                {{ member.getDescription }}
            </p>
        </div>
    </section>
{% endblock %}